
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://blockstream.github.io/greenlight/reference/pairing/">
      
      
        <link rel="prev" href="../webhooks/">
      
      
        <link rel="next" href="../../about/">
      
      
        
      
      
      <link rel="icon" href="../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Pairing - Greenlight Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/git-info.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#signer-less-device-pairing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Greenlight Documentation" class="md-header__button md-logo" aria-label="Greenlight Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Greenlight Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Pairing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Blockstream/greenlight" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
        
        <div class="git-info-bar">
          <div class="md-grid">
            <div class="git-info-item">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"/>
              </svg>
              <a href="https://github.com/Blockstream/greenlight/commit/8b74c38ff62ed1dc3145dc9d277fe610fc59b7b5" target="_blank" title="Go to Commit">
                8b74c38
              </a>
            </div>
            <div class="git-info-item" title="Last Updated">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"/>
              </svg>
              2025-12-04
            </div>
          </div>
        </div>
        
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/" class="md-tabs__link">
          
  
  
    
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about/" class="md-tabs__link">
          
  
  
    
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>

  

    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Greenlight Documentation" class="md-nav__button md-logo" aria-label="Greenlight Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Greenlight Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Blockstream/greenlight" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting-started/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/certs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Get a developer certificate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/register/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Registering a node
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/schedule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Starting a node
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/recover/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recover access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorials/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing your app
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/self-hosting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Self-Hosting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../client-libraries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Libraries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../creds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Credentials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../node-domain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Node Domain
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testserver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testserver
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../certs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Certificates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lsp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LSP Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Pairing
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Pairing
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#signer-less-device" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signer-Less Device
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pairing-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pairing Process
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pairing Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pairing-process-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pairing Process Overview
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detailed-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detailed Process
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Detailed Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-initiate-pairing-request" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Initiate Pairing Request
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-share-the-pairing-request" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Share the Pairing Request
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-attestation-by-trusted-device" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Attestation by Trusted Device
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-create-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Create Credentials
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Create Credentials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#signer-provides-rune" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signer Provides Rune
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#greenlight-supplies-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        Greenlight Supplies Credentials
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-completion-of-pairing" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Completion of Pairing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Considerations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use Cases
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../about/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    About
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Frequently Asked Questions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#signer-less-device" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signer-Less Device
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pairing-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pairing Process
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pairing Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pairing-process-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pairing Process Overview
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detailed-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detailed Process
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Detailed Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-initiate-pairing-request" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Initiate Pairing Request
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-share-the-pairing-request" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Share the Pairing Request
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-attestation-by-trusted-device" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Attestation by Trusted Device
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-create-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Create Credentials
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Create Credentials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#signer-provides-rune" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signer Provides Rune
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#greenlight-supplies-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        Greenlight Supplies Credentials
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-completion-of-pairing" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Completion of Pairing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Considerations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use Cases
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="signer-less-device-pairing">Signer-less Device Pairing</h1>
<p>Greenlight achieves the non-custodial operation of a Lightning Node in the cloud by decoupling the cryptographic keys from the node operations. Greenlight services handle the infrastructural complexities, while the cryptographic keys used to sign transactions stay on the user's device, ensuring users maintain full control over their funds.</p>
<p>To extend accessibility and flexibility, Greenlight introduced a <strong>Pairing Process</strong> enhanced with <strong>runes policy restrictions</strong> for signer-less devices.</p>
<h2 id="signer-less-device">Signer-Less Device</h2>
<p>A common way to set up Greenlight is to bundle the <strong>client</strong> and the <strong>signer</strong>, since the client needs access to the signer during node registration to prove ownership of the private key that belongs to the node ID under which they want to register a node.</p>
<div class="admonition note">
<p class="admonition-title">Figure 1: Common device setup with full signer access.</p>
<pre class="mermaid"><code>block-beta
  block:UD
columns 1
T1["User Device"]
Client["&lt;b&gt;Client&lt;/b&gt;\nCredentials (C)"]
Signer["&lt;b&gt;Signer&lt;/b&gt;\nSecret (S)"]
  end

  space
  block:GL
columns 1
T2["Greenlight"]
Node["Lightning Node"]
space
  end

  space
  Network

  Node --&gt; Client
  Client-- "Commands" --&gt;Node
  Signer --&gt; Node
  Node-- "Sig Requests" --&gt;Signer
  Node --&gt; Network
  Network --&gt; Node

  classDef signer fill:#ffc800,stroke:#333;
  classDef client fill:#a6e031,stroke:#333;
  classDef headline fill:none,stroke:none;

  class T1 headline
  class T2 headline
  class Signer signer
  class Client client
  class Node client</code></pre>
</div>
<p>However, there are situations where a user may not want a new device to have full access to the signer. In such cases, the user might have concerns about exposing the private key on a new or untrusted device. Also, the developer of an application that utilizes Greenlight might only need restricted access to the node and does not want to take the risks or comply with regulations that come with managing private keys on behalf of a user. To mitigate these risks, the user can keep the signer on a trusted device and allow a new device to interact with it remotely via Greenlight. This approach ensures that the private key remains protected while still allowing the client to perform necessary operations.</p>
<p>A device that does not have direct access to a signer is called <strong>signer-less</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Figure 2: Setup with a signer-less device that does not have direct access to a signer.</p>
<pre class="mermaid"><code>block-beta
  block:DS
   columns 1
   block:UD
columns 1
T1["User Device"]
Client1["&lt;b&gt;Client&lt;/b&gt;\nCredentials (C)"]
Signer["&lt;b&gt;Signer&lt;/b&gt;\nSecret (S)"]
   end
   block
columns 1
T3["Signer-Less Device"]
Client2["&lt;b&gt;Client&lt;/b&gt;\nCredentials (C&lt;sup&gt;&amp;#8224;&lt;/sup&gt;)"]
space
   end
  end

  space
  block:GL
columns 1
T4["Greenlight"]
Node["Lightning Node"]
space
  end
  space
  Network

  Node --&gt; Client1
  Client1-- "Commands" --&gt;Node
  Signer --&gt; Node
  Node-- "Sig Requests" --&gt;Signer
  Node --&gt; Client2
  Client2-- "Commands" --&gt;Node
  Node --&gt; Network
  Network --&gt; Node

  classDef signer fill:#ffc800,stroke:#333;
  classDef client fill:#a6e031,stroke:#333;
  classDef headline fill:none,stroke:none;

  class Signer signer
  class Client1 client
  class Client2 client
  class Node client
  class T1 headline
  class T3 headline
  class T4 headline
  class DS headline</code></pre>
</div>
<h2 id="pairing-process">Pairing Process</h2>
<p>When integrating new client devices that do not have direct access to a signer, Greenlight employs a pairing process to securely associate these devices with the node. A signer-less device can request access to a node with a certain set of restrictions.</p>
<h3 id="pairing-process-overview">Pairing Process Overview</h3>
<p>The pairing process involves the following key steps:</p>
<ol>
<li><strong>Initiate Pairing Request</strong>: The new device sends a pairing request to Greenlight.</li>
<li><strong>Share the Pairing Request</strong>: The new device presents a QR code to an already trusted device.</li>
<li><strong>Attestation by Trusted Device</strong>: An already trusted device approves the pairing request.</li>
<li><strong>Create Credentials</strong>: A connected signer provides a restricted rune bound to the new device.</li>
<li><strong>Completion</strong>: Greenlight returns the bundled credentials to the new device, which is now paired and can interact with the node according to the restrictions set in the rune.</li>
</ol>
<h3 id="detailed-process">Detailed Process</h3>
<pre class="mermaid"><code>sequenceDiagram
    participant New Device
    participant Trusted Device
    participant Greenlight
    participant Signer 

    New Device -&gt;&gt; Greenlight: [PairDeviceRequest]
    Note over Greenlight: Create pairing session, store data
    Note over New Device: Create QR-Code with [PairingQR]
    New Device -&gt;&gt; Trusted Device: [PairingQR] via QR
    Trusted Device -&gt;&gt; Greenlight: [GetPairingDataRequest]
    Greenlight -&gt;&gt; Trusted Device: [GetPairingDataResponse]
    Note over Trusted Device: Possible user action: Approve pairing
    alt Pairing approved
        Signer &lt;&lt;--&gt;&gt; Greenlight: Attach a signer [StreamHsmRequests]
        Trusted Device -&gt;&gt; Greenlight: [ApprovePairingRequest]
        Greenlight -&gt;&gt; Signer: [ApprovePairingRequest]
        Note over Signer: Verify pairing request 
        Signer -&gt;&gt; Greenlight: [ApprovePairingResponse]
        Note over Greenlight: Bundle response data 
        Greenlight -&gt;&gt; New Device: [PairDeviceResponse]
    else Pairing denied
        Trusted Device -&gt;&gt; Greenlight: [PairingDenied]
        Greenlight -&gt;&gt; New Device: [Error status: PERMISSION_DENIED]
    else Timeout
        Greenlight -&gt;&gt; New Device: [Error status: DEADLINE_EXCEEDED]
    end</code></pre>
<h4 id="1-initiate-pairing-request">1. Initiate Pairing Request</h4>
<p>The new device, which lacks access to the signer's private key, initiates the pairing process by sending a <code>PairDeviceRequest</code> to the Greenlight service. This request typically includes:</p>
<ul>
<li><strong>Device Identifier</strong>: The public TLS key of the new device that matches the signature for the certificate signing request (CSR).</li>
<li><strong>Certificate Signing Request</strong>: A certificate signing request for an X.509 TLS certificate to authenticate against the Greenlight services.</li>
<li><strong>Device Name</strong>: A descriptive name for the device that will be set in the subject CN field of the certificate.</li>
<li><strong>Device Description</strong>: A human-readable description about the purpose of the device that is meant to be presented to the user during the pairing process.</li>
<li><strong>Restrictions</strong>: A set of restrictions that will be used to construct the rune for the device, which will provide authorization to issue node commands.</li>
</ul>
<h3 id="2-share-the-pairing-request">2. Share the Pairing Request</h3>
<p>To get attestation from an already known device, the new device needs to share some data with a trusted device. This is typically done by presenting a QR code that the trusted device can scan. The data that has to be shared is in the following format:</p>
<ul>
<li><strong>QR Data</strong>: <code>gl-pairing:&lt;public_key_of_device&gt;</code></li>
</ul>
<h3 id="3-attestation-by-trusted-device">3. Attestation by Trusted Device</h3>
<p>The trusted device retrieves the pairing session data from Greenlight via a <code>GetPairingDataRequest</code>. The trusted device validates the returned data and can optionally present it to the user to ask for permission. After that, the trusted device sends an <code>ApprovePairingRequest</code> message via Greenlight to an attached signer. This message includes:</p>
<ul>
<li><strong>Pairing Session Identifier</strong>: The new device's public key as returned by the <code>GetPairingDataResponse</code> message.</li>
<li><strong>Timestamp</strong>: The time at which the pairing request was attestated.</li>
<li><strong>Device Name</strong>: The device name as returned by the <code>GetPairingDataResponse</code> message.</li>
<li><strong>Restrictions</strong>: A set of restrictions used by the signer to construct the rune for the new device.</li>
<li><strong>Signature</strong>: A signature of the above fields for the signer to check for data integrity.</li>
<li><strong>Public Key</strong>: The public key corresponding to the signature in this message.</li>
<li><strong>Rune</strong>: The rune of the trusted device. The public key field of the rune has to match the public key field above.</li>
</ul>
<h3 id="4-create-credentials">4. Create Credentials</h3>
<h4 id="signer-provides-rune">Signer Provides Rune</h4>
<p>The signer, upon receiving the <code>ApprovePairingRequest</code>, checks the data integrity and verifies that the trusted device is allowed to attest pairing requests. After that, it generates a <strong>rune</strong>, which is an authorization token defining the restrictions for the new device. The rune:</p>
<ul>
<li><strong>Is Cryptographically Signed</strong>: Ensures authenticity and integrity.</li>
<li><strong>Contains Restrictions</strong>: Specifies what actions the new device is allowed to perform.</li>
</ul>
<h4 id="greenlight-supplies-credentials">Greenlight Supplies Credentials</h4>
<p>Greenlight then delivers the necessary credentials to the new device. This includes:</p>
<ul>
<li><strong>TLS Certificate</strong>: Used to authenticate the device with Greenlight and for secure communication between services.</li>
<li><strong>Rune</strong>: Used to authenticate commands with the signer.</li>
</ul>
<h3 id="5-completion-of-pairing">5. Completion of Pairing</h3>
<p>With the rune and credentials received:</p>
<ul>
<li><strong>Secure Connection Established</strong>: The new device can securely connect to the node via Greenlight.</li>
<li><strong>Access Granted</strong>: The device can perform operations as permitted by the rune and credentials.</li>
<li><strong>Device Registered</strong>: Greenlight and the signer recognize the new device as an authorized client.</li>
</ul>
<h2 id="security-considerations">Security Considerations</h2>
<ul>
<li><strong>Controlled Access</strong>: Only devices approved by a trusted device with signer access can pair, preventing unauthorized access.</li>
<li><strong>Private Key Protection</strong>: The signer's private key remains secure and is not exposed to new devices.</li>
<li><strong>Granular Permissions</strong>: Runes allow for fine-grained permission control, limiting the scope of what new devices can do.</li>
</ul>
<h2 id="use-cases">Use Cases</h2>
<ul>
<li><strong>Multi-Device Management</strong>: Users can manage their node from multiple devices without exposing the private key to each device.</li>
<li><strong>Delegated Access</strong>: Specific devices can be given limited permissions, useful for roles like monitoring, auditing, or invoice creation.</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Â© 2024 Greenlight All rights reserved.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.instant", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "content.code.annotate", "content.tabs.link", "content.code.copy"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>